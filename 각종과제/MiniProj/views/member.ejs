<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bit Groupware > Member</title>
    <link rel="stylesheet" href="/style.css" />
    <link rel="stylesheet" href="/tableStyle.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"
      integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <style>
      .search select {
        border: 1px solid #ccc;
        border-radius: 3px;
        padding: 7px;
      }

      .search input {
        border: 1px solid #ccc;
        border-radius: 3px;
        padding: 7px;
      }

      .search button {
        background-color: steelblue;
        color: #fff;
        border-radius: 3px;
        padding: 6px;
        cursor: pointer;
      }

      .search select {
        border: 1px solid #ccc;
        border-radius: 3px;
        padding: 7px;
      }

      .search input {
        border: 1px solid #ccc;
        border-radius: 3px;
        padding: 7px;
      }

      .searchBtn {
        background-color: steelblue;
        color: #fff;
        border-radius: 3px;
        padding: 6px;
        cursor: pointer;
      }

      .gradeSel {
        border: 1px solid #ccc;
        border-radius: 3px;
        padding: 7px;
      }

      .upDelBtn {
        border: 1px solid #d1d1d1;
        border-radius: 3px;
        background-color: #f1f1f1;
        padding: 5px;
        cursor: pointer;
      }

      .upDelBtn:hover {
        background-color: #f9f9f9;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="top-wrap">
        <h2><a href="/">Busanit Academy</a></h2>
        <div class="top-menu">
          <ul>
            <li><a href="/">메인으로</a></li>
            <li><a href="/member">회원관리</a></li>
            <li><a href="/board">게시판관리</a></li>
            <li><a href="/">환경설정</a></li>
          </ul>
        </div>
      </div>

      <div class="memberList">
        <div class="memberList-top">
          <div class="top-left">
            <a href="/addUser"><i class="fa-solid fa-user-plus"></i>회원추가</a>
          </div>
          <div class="top-right">
            <div class="search-wrap">
              <form action="search.do" id="frm">
                <div class="search">
                  <select id="sel" class="sel">
                    <option value="">선택하세요</option>
                    <option value="1">이름</option>
                    <option value="2">이메일</option>
                    <option value="3">가입일</option>
                  </select>
                  <input type="text" id="search" class="search" autofocus />
                  <input type="submit" value="검색" class="searchBtn" />
                </div>
              </form>
            </div>
          </div>
        </div>
        <div class="tbl-wrap">
          <table>
            <tr>
              <td>번호</td>
              <td>이름</td>
              <td>아이디</td>
              <td>이메일</td>
              <td>등급</td>
              <td>가입일</td>
              <td>비고</td>
            </tr>
            <% if(result == "") { %>
            <td colspan="7">등록된 회원이 없습니다.</td>
            <% }else{ %> <% for(let i=0; i < result.length; ++i){ %>
            <tr>
              <td><%= result[i].idx %></td>
              <td>
                <a href="/userView/<%= result[i].idx %>">
                  <%= result[i].username %>
                </a>
              </td>
              <td><%= result[i].userid %></td>
              <td><%= result[i].email %></td>
              <td>
                <select class="gradeSel">
                  <option value="최고관리자">최고관리자</option>
                  <option value="매니저">매니저</option>
                  <option value="일반">일반</option>
                </select>
              </td>
              <td><%= result[i].regdate %></td>
              <td>
                <a href="/upUser/<%= result[i].idx %>">
                  <button type="submit" class="upDelBtn">
                    <i class="fa-solid fa-pen-to-square"></i>수정
                  </button>
                </a>
                <a
                  href="/delUser/<%= result[i].idx %>"
                  onclick="return confirm('회원을 삭제하시겠습니까?');"
                >
                  <button type="submit" class="upDelBtn">
                    <i class="fa-solid fa-trash-can"></i>삭제
                  </button>
                </a>
              </td>
            </tr>
            <% } } %>
          </table>
        </div>
      </div>
    </div>
  </body>
</html>
